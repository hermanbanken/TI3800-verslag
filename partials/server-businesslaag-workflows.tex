\subsection{Workflows}

Een ander onderdeel van de businesslaag zijn de workflows. Workflows zijn afgebakende taken, 
die eenvoudig door de servicelaag en andere businesslaag-processen aan te roepen zijn, waarbij de servicelaag niet hoeft te ``weten'' hoe deze taken worden uitgevoerd, als ze maar het beoogde resultaat opleveren. In onze applicatie zijn er op drie gebieden workflows, zoals ook te zien is in figuur~\ref{fig:lagen-businesslaag}:

\begin{itemize}
	\item{\textbf{Gebruikersaccounts beheren.}} 
	De AccountWorkflow biedt mogelijkheden om accounts aan te maken met zowel gebruikersnaam en wachtwoord als met een Facebook authenticatiesleutel (``access token''). Verder kunnen accounts worden opgezocht aan de hand van hun e-mailadres of unieke nummer. De servicelaag biedt deze workflow rechtstreeks aan via de API.

	\item{\textbf{Transponders beheren.}} 
	Gebruikers kunnen per tijdseenheid maar één transponder hebben en deze kan niet door meer mensen tegelijk geregisteerd zijn. De AccountWorkflow is verantwoordelijk voor de logica van dit proces, zodat door een servicelaag-proces transponders kunnen worden toegevoegd aan en kunnen worden ontkoppeld van hun account (en daar eventueel de juiste foutmeldingen bij te geven). Daarnaast moet de businesslaag snel kunnen opzoeken welke gebruiker bij een transponder hoort, op het moment dat een doorkomst binnenkomt. De TransponderWorkflow bevat de logica ervoor om deze checks te doen en de transponders op te zoeken.

	\item{\textbf{Groepen beheren.}} 
	Het aanmaken en beheren van groepen zijn ook specifieke taken waar een GroupWorkflow voor bestaat. Deze workflow zorgt er voor dat de actieve gebruiker wordt toegevoegd aan de aangemaakte groep en dat er alleen wijzigingen plaatsvinden die mogen worden uitgevoerd. Deze logica voornamelijk door de servicelaag gebruikt, om de groepen functionaliteit aan te bieden. Daarnaast wordt beschikbare nieuwe informatie doorgestuurd naar de gebruikers uit dezelfde groepen. Ook hiervoor wordt de workflow gebruikt.

\end{itemize}